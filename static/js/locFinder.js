var myMarker,infowindow,contentString,markers=[];function initAutocomplete(){var e=new google.maps.Map(document.getElementById("map"),{center:{lat:23.8103,lng:90.4125},zoom:13,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!0,fullscreenControl:!1,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.HORIZONTAL_BAR,position:google.maps.ControlPosition.BOTTOM_CENTER},panControl:!0,panControlOptions:{position:google.maps.ControlPosition.TOP_RIGHT},zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.LARGE,position:google.maps.ControlPosition.RIGHT_CENTER},scaleControl:!0,scaleControlOptions:{position:google.maps.ControlPosition.TOP_LEFT},streetViewControl:!0,streetViewControlOptions:{position:google.maps.ControlPosition.LEFT_TOP}});navigator.geolocation?navigator.geolocation.getCurrentPosition((function(o){var t={lat:o.coords.latitude,lng:o.coords.longitude};(new google.maps.Geocoder).geocode({location:t},(function(o,n){if("OK"===n)if(o[0])new google.maps.Marker({position:t,map:e,icon:{url:"http://maps.google.com/mapfiles/ms/icons/blue-dot.png"},title:"Your current location is : "+o[0].formatted_address});else window.alert("No results found");else window.alert("Geocoder failed due to: "+n)})),e.setCenter(t)}),(function(){handleLocationError(!0,infoWindow,e.getCenter())})):handleLocationError(!1,infoWindow,e.getCenter());var o=document.getElementById("pac-input"),t=new google.maps.places.SearchBox(o);e.controls[google.maps.ControlPosition.TOP_LEFT].push(o),e.addListener("bounds_changed",(function(){t.setBounds(e.getBounds())})),t.addListener("places_changed",(function(){var o=t.getPlaces();if(0!=o.length){var n=new google.maps.LatLngBounds;o.forEach((function(o){if(o.geometry){removeMarkers(),myMarker=new google.maps.Marker({position:o.geometry.location,draggable:!0}),markers.push(myMarker),contentString="<p>Drag marker...</p>",infowindow=new google.maps.InfoWindow({content:contentString});var t=new google.maps.Geocoder,r=new google.maps.LatLng(myMarker.position.lat(),myMarker.position.lng());document.getElementById("current").innerHTML="<p>Marker dropped<br><br>Current Lattitude: "+myMarker.position.lat().toFixed(3)+"<br>Current Longitude: "+myMarker.position.lng().toFixed(3)+"</p>",document.getElementById("current").innerHTML+="<br><p>Please Give Exact Value Of Lattitude, Longitude &amp; Receiver's Area On Excel</p>",t.geocode({latLng:r},(function(e,o){if(o==google.maps.GeocoderStatus.OK){var t=e[0].formatted_address;infowindow.setContent(t)}})),google.maps.event.addListener(myMarker,"dragend",(function(e){document.getElementById("current").innerHTML="<p>Marker dropped!<br><br>Current Lattitude: "+e.latLng.lat().toFixed(3)+"<br>Current Longitude: "+e.latLng.lng().toFixed(3)+"</p>",document.getElementById("current").innerHTML+="<br><p>Please Give Exact Value Of Lattitude, Longitude &amp; Receiver's Area On Excel</p>",contentString="<p>Current Lattitude: "+e.latLng.lat().toFixed(3)+" Current Longitude: "+e.latLng.lng().toFixed(3)+"</p>";var o=new google.maps.Geocoder,t=new google.maps.LatLng(e.latLng.lat(),e.latLng.lng());o.geocode({latLng:t},(function(e,o){if(o==google.maps.GeocoderStatus.OK){var t=e[0].formatted_address;infowindow.setContent(t),document.getElementById("pac-input").value=t}}))})),google.maps.event.addListener(myMarker,"dragstart",(function(e){document.getElementById("current").innerHTML="<p>Marker Moving!!!<br><br>Current Lattitude: <br>Current Longitude: </p>"})),myMarker.addListener("click",(function(){infowindow.open(e,myMarker)})),e.setCenter(myMarker.position),myMarker.setMap(e),o.geometry.viewport?n.union(o.geometry.viewport):n.extend(o.geometry.location)}})),e.fitBounds(n)}}))}function removeMarkers(){for(var e=0;e<markers.length;e++)markers[e].setMap(null)}function handleLocationError(e,o,t){o.setPosition(t),o.setContent(e?"Error: The Geolocation service failed.":"Error: Your browser doesn't support geolocation."),o.open(map)}$("#managers").empty(),$.ajax({url:urlForAll+"approved/delivery/area",type:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},success:function(e){for(var o=0;o<e.data.length;o++){var t=new Option(e.data[o],e.data[o]);$(t).html(e.data[o]),$("#managers").append(t)}}});
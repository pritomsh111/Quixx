var myMarker,myMarker2,infowindow,infowindow2,contentString,contentString2;$(document).ready((function(){$("#alreadySet").hide(),document.title="Organization",$.ajax({async:!0,type:"GET",url:urlForAll+"approved/isSetting/done/"+localStorage.getItem("userID"),headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},success:function(t){1==t.data?(a="#dashboardOrg",$("#settings").hide(),$("#alreadySet").show()):($("#alreadySet").hide(),$("#settings").show(),a="#settingsOrg",e()),location.hash=a},error:function(e,t,n){}});const e=()=>{$.ajax({type:"GET",url:"http://206.189.128.203:8181/api/quixx/v1/delivery/metric/product/type/",success:function(e){let n,o,r,a;n=document.createElement("div"),n.setAttribute("class","prod_type"),e.data.forEach((e,t)=>{o=document.createElement("div"),a=document.createElement("h5"),r=document.createElement("input"),a.innerHTML=e+":",a.setAttribute("style","text-align: center; color:#000;"),r.setAttribute("type","text"),r.setAttribute("id",e),r.setAttribute("class","form-control mb-4"),r.setAttribute("style","color:#0066b3;text-align:center;"),o.append(a),o.append(r),n.append(o)}),document.querySelector(".product__type").append(n),t()},error:function(e){}})},t=()=>{$.ajax({type:"GET",url:"http://206.189.128.203:8181/api/quixx/v1/delivery/metric/weight/",success:function(e){let t,o,r,a;t=document.createElement("div"),t.setAttribute("class","prod_type"),e.data.forEach((e,n)=>{o=document.createElement("div"),a=document.createElement("h5"),r=document.createElement("input"),a.innerHTML=e+":",a.setAttribute("style","text-align: center; color:#000;"),r.setAttribute("type","text"),r.setAttribute("id",e),r.setAttribute("class","form-control mb-4"),r.setAttribute("style","color:#0066b3;text-align:center;"),o.append(a),o.append(r),t.append(o)}),document.querySelector(".product__weight").append(t),n()},error:function(e){}})},n=()=>{$.ajax({type:"GET",url:"http://206.189.128.203:8181/api/quixx/v1/delivery/metric/distance/",success:function(e){let t,n,r,a;t=document.createElement("div"),t.setAttribute("class","prod_type"),e.data.forEach((e,o)=>{n=document.createElement("div"),a=document.createElement("h5"),r=document.createElement("input"),a.innerHTML=e+":",a.setAttribute("style","text-align: center; color:#000;"),r.setAttribute("type","text"),r.setAttribute("id",e),r.setAttribute("class","form-control mb-4"),r.setAttribute("style","color:#0066b3;text-align:center;"),n.append(a),n.append(r),t.append(n)}),document.querySelector(".get__distance").append(t),o()},error:function(e){}})},o=()=>{$.ajax({type:"GET",url:"http://206.189.128.203:8181/api/quixx/v1/delivery/metric/delivery/type/",success:function(e){let t,n,o,r;t=document.createElement("div"),t.setAttribute("class","prod_type"),e.data.forEach((e,a)=>{n=document.createElement("div"),r=document.createElement("h5"),o=document.createElement("input"),r.innerHTML=e+":",r.setAttribute("style","text-align: center; color:#000;"),o.setAttribute("type","text"),o.setAttribute("id",e),o.setAttribute("class","form-control mb-4"),o.setAttribute("style","color:#0066b3;text-align:center;"),n.append(r),n.append(o),t.append(n)}),document.querySelector(".delivery_type").append(t)},error:function(e){}})};window.addEventListener("storage",(function(e){"logout-event"==e.key&&(window.location.href=""+localStorage.getItem("wh-user"))}))}));var markers=[],markers2=[];function initAutocomplete(){var e=new google.maps.Map(document.getElementById("map"),{center:{lat:23.8103,lng:90.4125},zoom:13,mapTypeId:"roadmap",mapTypeControl:!1,fullscreenControl:!1});navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(t){var n={lat:t.coords.latitude,lng:t.coords.longitude};(new google.maps.Geocoder).geocode({location:n},(function(t,o){if("OK"===o)if(t[0])new google.maps.Marker({position:n,map:e,icon:{url:"http://maps.google.com/mapfiles/ms/icons/blue-dot.png"},title:"Your current location is : "+t[0].formatted_address});else window.alert("No results found");else window.alert("Geocoder failed due to: "+o)})),e.setCenter(n)}),(function(){}));var t=document.getElementById("pac-input"),n=new google.maps.places.SearchBox(t);e.controls[google.maps.ControlPosition.TOP_LEFT].push(t),e.addListener("bounds_changed",(function(){n.setBounds(e.getBounds())})),n.addListener("places_changed",(function(){var o=n.getPlaces();if(0!=o.length){var r=new google.maps.LatLngBounds;o.forEach((function(n){if(n.geometry){removeMarkers(),myMarker=new google.maps.Marker({position:n.geometry.location,draggable:!0}),markers.push(myMarker),contentString="<p>Drag marker...</p>",infowindow=new google.maps.InfoWindow({content:contentString});var o=new google.maps.Geocoder,a=new google.maps.LatLng(myMarker.position.lat(),myMarker.position.lng());o.geocode({latLng:a},(function(e,t){if(t==google.maps.GeocoderStatus.OK){var n=e[0].formatted_address;infowindow.setContent(n),document.getElementById("lat").value=myMarker.position.lat(),document.getElementById("longi").value=myMarker.position.lng()}})),google.maps.event.addListener(myMarker,"dragend",(function(e){contentString="<p>Current Lat: "+t+" Current Lng: "+e.latLng.lng().toFixed(3)+"</p>",document.getElementById("lat").value=e.latLng.lat(),document.getElementById("longi").value=e.latLng.lng();var n=new google.maps.Geocoder,o=new google.maps.LatLng(e.latLng.lat(),e.latLng.lng());n.geocode({latLng:o},(function(e,t){if(t==google.maps.GeocoderStatus.OK){var n=e[0].formatted_address;infowindow.setContent(n),document.getElementById("pac-input").value=n}}))})),google.maps.event.addListener(myMarker,"dragstart",(function(e){})),myMarker.addListener("click",(function(){infowindow.open(e,myMarker)})),e.setCenter(myMarker.position),myMarker.setMap(e),n.geometry.viewport?r.union(n.geometry.viewport):r.extend(n.geometry.location)}})),e.fitBounds(r)}}))}function removeMarkers(){for(var e=0;e<markers.length;e++)markers[e].setMap(null)}function handleLocationError(e,t,n){t.setPosition(n),t.setContent(e?"Error: The Geolocation service failed.":"Error: Your browser doesn't support geolocation."),t.open(map)}document.getElementById("updateMerchant").addEventListener("click",(function(e){e.preventDefault();var t=document.getElementById("sender_address").value,n=document.getElementById("pac-input").value,o=String(document.getElementById("lat").value);String(document.getElementById("longi").value);let r=[],a=[],i=[],l=[];const d=(e,t,n,o)=>((e,t,n,o)=>{var r=e.trim();return 0==!/\D/.test(r)?(document.getElementById("wrongThisMerSet").innerHTML="Please give valid number for "+t,$("#myModalWrongMerSet").modal("show"),document.getElementById(t).focus(),0):1==!/\D/.test(r)?(r=r||0,o.push({[n]:t,price:r}),1):void 0})(e,t,n,o);2==(()=>{let e=document.querySelectorAll(".product__type div"),t=0;return e.forEach((n,o)=>{0!==o&&(t+=d(e[o].lastChild.value,e[o].lastChild.id,"productName",r))}),t})()&&3==(()=>{let e=document.querySelectorAll(".product__weight div"),t=0;return e.forEach((n,o)=>{0!==o&&(t+=d(e[o].lastChild.value,e[o].lastChild.id,"weight",a))}),t})()&&2==(()=>{let e=document.querySelectorAll(".get__distance div"),t=0;return e.forEach((n,o)=>{0!==o&&(t+=d(e[o].lastChild.value,e[o].lastChild.id,"distance",i))}),t})()&3==(()=>{let e=document.querySelectorAll(".delivery_type div"),t=0;return e.forEach((n,o)=>{0!==o&&(t+=d(e[o].lastChild.value,e[o].lastChild.id,"deliveryType",l))}),t})()&&1==(""==t||null==t?(document.getElementById("wrongThisMerSet").innerHTML="Address cannot be empty!",$("#myModalWrongMerSet").modal("show"),document.getElementById("sender_address").focus(),0):1)&&1==(""==n||null==n?(document.getElementById("wrongThisMerSet").innerHTML="Please search your location on map!",$("#myModalWrongMerSet").modal("show"),0):1)&&1==(""==o||null==o?(document.getElementById("wrongThisMerSet").innerHTML="Please search your location on map!",$("#myModalWrongMerSet").modal("show"),0):1)&&(r=JSON.stringify(r),a=JSON.stringify(a),i=JSON.stringify(i),l=JSON.stringify(l),$.ajax({type:"POST",url:"http://206.189.128.203:8181/api/quixx/v1/delivery/metric/add/delivery/metric/1",data:{moneyByDeliveryType:{moneyDeliveryTypes:l},moneyByDistance:{moneyDistances:i},moneyByWeight:{moneyByWeights:a},moneyProduct:{moneyProducts:r}},headers:{Accept:"application/json","Content-Type":"application/json"},success:function(e){},error:function(e,t,n){$("#myModalCreateDD1").modal("hide"),$("#myModal2").modal("show")}}))}));
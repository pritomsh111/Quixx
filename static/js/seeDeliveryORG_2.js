var map,infoWindow,dataa;function initMap(){map=new google.maps.Map(document.getElementById("map"),{center:{lat:23.8103,lng:90.4125},zoom:8,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!0,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.HORIZONTAL_BAR,position:google.maps.ControlPosition.BOTTOM_CENTER},panControl:!0,panControlOptions:{position:google.maps.ControlPosition.TOP_RIGHT},zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.LARGE,position:google.maps.ControlPosition.RIGHT_CENTER},scaleControl:!0,scaleControlOptions:{position:google.maps.ControlPosition.TOP_LEFT},streetViewControl:!0,streetViewControlOptions:{position:google.maps.ControlPosition.LEFT_TOP}}),infoWindow=new google.maps.InfoWindow,setMarkers(map)}function handleLocationError(e,t,n){t.setPosition(n),t.setContent(e?"Error: The Geolocation service failed.":"Error: Your browser doesn't support geolocation."),t.open(map)}function setMarkers(e){var t,n,a=new google.maps.InfoWindow;for($.ajax({async:!1,type:"GET",url:urlForAll+"deliveryMan/getDeliveryManByUserId/"+localStorage.getItem("userID"),headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},success:function(e){dataa=e}}),n=0;n<dataa.data.length;n++)t=new google.maps.Marker({position:new google.maps.LatLng(dataa.data[n].current_lat,dataa.data[n].current_longi),map:e,title:dataa.data[n].name}),google.maps.event.addListener(t,"click",function(t,n){return function(){a.setContent('<p style="color:#0066b3;text-align:center;font-family:Didact Gothic;"><b>Delivery Man</b>:<br>'+dataa.data[n].name+"<br><button class='content1 btn-round btn-outline btn' id="+dataa.data[n].delivery_man_id+" style='font-family:Didact Gothic;width:97%' onclick=detailDelivery(this);>Details</button>"),a.open(e,t)}}(t,n))}function details(e){var t=e.id,n=e.name;localStorage.setItem("latValue",t),localStorage.setItem("lngValue",n),window.open("delivery_location.html")}var hudai=e=>{var t=e.id,n=document.getElementById("s"+t).value.split("-"),a=`${n[2]}-${n[1]}-${n[0]}`,o=document.getElementById("e"+t).value.split("-"),l=`${o[2]}-${o[1]}-${o[0]}`;parseInt(n[1])>parseInt(o[1])?(document.getElementById("wrongThisDeliveryCreate").innerHTML="Ending month cannot be lower than Staring month!",$("#myModalWrongDeliveryCreate").modal("show")):parseInt(n[0])>parseInt(o[0])?(document.getElementById("wrongThisDeliveryCreate").innerHTML="Ending year cannot be lower than Staring year!",$("#myModalWrongDeliveryCreate").modal("show")):parseInt(o[0])==parseInt(n[0])&&parseInt(o[1])==parseInt(n[1])?parseInt(o[2])<parseInt(n[2])?(document.getElementById("wrongThisDeliveryCreate").innerHTML="Ending date cannot be lower than Staring date!",$("#myModalWrongDeliveryCreate").modal("show")):window.open(urlForAll+"reports/search/deliveryMan/activity/"+localStorage.getItem("userID")+"/"+t+"/"+a+"/"+l):n[1]&&n[0]&&n[2]&&o[0]&&n[1]&&o[2]?window.open(urlForAll+"reports/search/deliveryMan/activity/"+localStorage.getItem("userID")+"/"+t+"/"+a+"/"+l):(document.getElementById("wrongThisDeliveryCreate").innerHTML="Please Select Both Dates!",$("#myModalWrongDeliveryCreate").modal("show"))},seeDateWise=()=>{document.getElementById("onec").disabled=!1,document.getElementById("twoc").disabled=!1,document.getElementById("twoc").style.fontSize="13px",document.getElementById("onec").style.fontSize="13px",document.getElementById("onec").innerHTML="Details of Delivery and Delivery Man",document.getElementById("threec").disabled=!0,document.getElementById("threec").style.fontSize="14.5px",$("#dtBasicExample").hide(),$(".a").hide(),$("#dtBasicExample2").hide(),$(".b").hide(),$("#map").hide();var e=$("#dtBasicExample2").DataTable({processing:!0,language:{loadingRecords:"&nbsp;",processing:"<div class='loader5'></div><h4 style='color:#0066b3'>Loading...</h4>"},deferRender:!0,paging:!0,pagingType:"full_numbers",destroy:!0,oSearch:{bSmart:!1,bRegex:!0},ajax:{url:urlForAll+"deliveryMan/approved/"+localStorage.getItem("userID"),type:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},dataSrc:"data"},columns:[{targets:0,data:"name"},{targets:1,data:"phone_number"},{targets:2,data:"delivery_area"},{targets:3,data:"date1",render:function(e,t,n){return'<input class="btn-round btn-outline btn" type="date" id="s'+n.delivery_man_id+'">'}},{targets:4,data:"date2",render:function(e,t,n){return'<input class="btn-round btn-outline btn" type="date" id="e'+n.delivery_man_id+'">'}},{targets:5,data:"button",render:function(e,t,n){return'<button class="btn-round btn-outline btn" id="'+n.delivery_man_id+'" onclick="hudai(this)">Submit</button>'}}]});e.on("xhr",(function(){var t=e.ajax.json();document.getElementById("threec").innerHTML="Delivery Information [Date-wise]: "+t.data.length})),e.clear().draw(),$('.dataTables_filter input[type="search"]').attr("placeholder","Search anything!").css({width:"300px",display:"inline-block",background:"white"}),$('.dataTables_filter input[type="search"]').attr("class","btn btn-round").css({width:"300px",display:"inline-block",color:"#000000",background:"#FFFFFA"}),$(".dataTables_length select").attr("class","btn btn-round").css({width:"80px","background-color":"white",color:"#000000",background:"#FFFFFA"}),$("#dtBasicExample2").show(),$(".b").show()},deliveryManOnMap=()=>{document.getElementById("onec").disabled=!1,document.getElementById("twoc").disabled=!0,document.getElementById("twoc").style.fontSize="14.5px",document.getElementById("onec").style.fontSize="13px",document.getElementById("onec").innerHTML="Details of Delivery and Delivery Man",document.getElementById("threec").disabled=!1,document.getElementById("threec").style.fontSize="13px",document.getElementById("threec").innerHTML="Delivery Information [Date-wise]",$("#dtBasicExample").hide(),$(".a").hide(),$("#dtBasicExample2").hide(),$(".b").hide(),$("#map").show()},deliveryManWithProduct=()=>{document.getElementById("twoc").disabled=!1,document.getElementById("onec").disabled=!0,document.getElementById("onec").style.fontSize="14.5px",document.getElementById("twoc").style.fontSize="13px",document.getElementById("threec").disabled=!1,document.getElementById("threec").style.fontSize="13px",document.getElementById("threec").innerHTML="Delivery Information [Date-wise]",$("#map").hide(),$("#dtBasicExample").hide(),$(".a").hide(),$("#dtBasicExample2").hide(),$(".b").hide();var e=$("#dtBasicExample").DataTable({processing:!0,language:{loadingRecords:"&nbsp;",processing:"<div class='loader5'></div><h4 style='color:#0066b3'>Loading...</h4>"},deferRender:!0,paging:!0,pagingType:"full_numbers",destroy:!0,oSearch:{bSmart:!1,bRegex:!0},ajax:{url:urlForAll+"deliveryMan/approved/"+localStorage.getItem("userID"),type:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},dataSrc:"data"},columns:[{targets:2,data:"delivery_man_id"},{targets:0,data:"name"},{targets:0,data:"email"},{targets:1,data:"phone_number"},{targets:3,data:"button",render:function(e,t,n){return'<button id="'+n.delivery_man_id+'" class="btn-round btn-outline btn" onclick=detailDelivery(this)>Details</button>'}}]});e.on("xhr",(function(){var t=e.ajax.json();document.getElementById("onec").innerHTML="Details of Delivery and Delivery Man: "+t.data.length})),e.clear().draw(),$('.dataTables_filter input[type="search"]').attr("placeholder","Search anything!").css({width:"300px",display:"inline-block",background:"white"}),$('.dataTables_filter input[type="search"]').attr("class","btn btn-round").css({width:"300px",display:"inline-block",color:"#000000",background:"#FFFFFA"}),$(".dataTables_length select").attr("class","btn btn-round").css({width:"80px","background-color":"white",color:"#000000",background:"#FFFFFA"}),$("#dtBasicExample").show(),$(".a").show()},detailDelivery=e=>{window.open("deliveryManOnMapAndDetails.html#"+e.id)};
(()=>{let e;window.addEventListener("storage",(function(e){"login-event"==e.key&&(window.location.href="panel.html")}));let t="Grow Your Business",s=0,o=document.querySelector(".Quixx__Q>h1");const n=()=>{s!==t.length?(o.innerHTML+=t[s],setTimeout(()=>{s+=1,n()},150)):document.querySelector(".Q__Us").classList.add("show")};setTimeout(()=>{n()},500);let l=document.querySelector(".Quixx__Login__Signup li:last-child"),r=document.querySelector(".Quixx__Login__Signup li:last-child ul");l.addEventListener("mouseover",(function(){r.style.backgroundColor="#fff"}));let a=document.querySelector("#Quixx__Main"),i=document.querySelector(".Signup__Loader"),c=document.querySelector(".Signup__Loader>h2"),d=document.querySelector(".circle-loader"),u=document.querySelector(".checkmark"),y=document.querySelector(".close-button"),m=document.querySelector(".next-button"),p=document.querySelector(".done-button"),g=document.querySelector(".forgot_pass"),S=document.querySelector(".modal-header"),L=document.querySelector(".forgot-pass"),v=document.querySelector(".modal-error"),h=document.querySelector(".Modal__Quixx .modal-footer"),b=document.querySelector("#phone_number"),f=document.querySelector("#fp-restore"),q=document.querySelector(".FP-step-1"),w=document.querySelector(".FP-step-2"),T=document.querySelector(".Quixx__Form__Main"),k=document.querySelector(".signInButton"),_=document.querySelector(".signUpButton"),M=document.querySelector(".Quixx__Login"),x=document.querySelector(".Quixx__Signup");k.addEventListener("click",(function(){this.classList.add("active-btn"),_.classList.remove("active-btn"),M.classList.add("Show"),M.classList.remove("HideOut"),x.classList.add("HideOut"),x.classList.remove("Show"),T.classList.add("height_login"),T.classList.remove("height_signup")})),_.addEventListener("click",(function(){this.classList.add("active-btn"),k.classList.remove("active-btn"),x.classList.add("Show"),x.classList.remove("HideOut"),M.classList.add("HideOut"),M.classList.remove("Show"),T.classList.add("height_signup"),T.classList.remove("height_login")})),localStorage.getItem("home_cta")&&(localStorage.removeItem("home_cta"),_.click()),localStorage.getItem("price")&&(document.querySelector("#deliveries").value=localStorage.getItem("price"),localStorage.removeItem("price"),_.click(),document.querySelector(".active-btn").focus()),g.addEventListener("click",(function(){i.style.display="none",v.style.display="none",L.style.display="block",h.style.marginTop="10rem",S.innerHTML="<h2>Forgot Password?</h2>",backdrop.classList.add("show"),modal.classList.add("show"),y.style.display="inline",m.style.display="inline",m.disabled=!0,p.style.display="none",q.classList.add("show"),q.classList.remove("hide"),w.classList.add("hide"),w.classList.remove("show"),b.value=""})),y.addEventListener("click",(function(){backdrop.classList.remove("show"),modal.classList.remove("show")})),m.addEventListener("click",(function(){e=document.querySelector("#phone_number").value,$.ajax({type:"POST",url:api+"forget/password/get/vCode/"+e,success:function(e){f.value="",w.classList.add("show"),w.classList.remove("hide"),q.classList.add("hide"),q.classList.remove("show"),y.style.display="none",m.style.display="none",p.style.display="inline"},error:function(e){let t=Object.keys(e),s=document.querySelector(".modal-error>h2");"responseJSON"===t[17]?s.innerHTML=e.responseJSON.errorMessage:s.innerHTML="Please Wait! We are working!",E()}})})),b.addEventListener("keyup",(function(e){11===e.target.value.match(/\d/g).length?m.disabled=!1:m.disabled=!0})),f.addEventListener("keyup",(function(e){4===e.target.value.match(/\d/g).length?p.disabled=!1:p.disabled=!0})),p.addEventListener("click",(function(){i.style.display="block",L.style.display="none",v.style.display="none",c.innerHTML="",h.style.marginTop="0rem",d.classList.remove("load-complete"),u.style.display="none",d.style.display="inline-block",p.style.display="none",y.style.display="inline",y.disabled=!0;let t=document.querySelector("#fp-restore").value;$.ajax({type:"GET",url:api+"forget/password/submit/vCode/"+e+"/"+t,success:function(e){if(!0===e.data)setTimeout((function(){d.classList.remove("load-complete"),setTimeout((function(){a.style.pointerEvents="auto",d.classList.add("load-complete"),u.style.display="block",c.innerHTML="You will receive an SMS!",c.style.color="#0066b3",y.disabled=!1}),1e3)}),2e3);else{d.style.display="none",y.disabled=!1,document.querySelector(".modal-error>h2").innerHTML="Wrong Code!",E()}},error:function(e){let t=Object.keys(e),s=document.querySelector(".modal-error>h2");"responseJSON"==t[17]?s.innerHTML=e.responseJSON.errorMessage:s.innerHTML="Please Wait! We are working!",E()}})}));let E=()=>{i.style.display="none",L.style.display="none",v.style.display="block",h.style.marginTop="0rem",y.style.display="inline",m.style.display="none",p.style.display="none",S.innerHTML="",backdrop.classList.add("show"),modal.classList.add("show")},O=document.querySelector(".password i"),H=document.querySelector("#password");function N(){document.querySelectorAll("p.error").forEach(e=>e.innerHTML="")}function P(e,t){if(N(),"password"===t)return document.querySelector(`.${t}+p`).innerHTML=e,void document.querySelector("#"+t).focus();document.querySelector(`.${t}>p`).innerHTML=e,document.querySelector("#"+t).focus()}O.addEventListener("click",(function(){O.classList.contains("fa-eye-slash")?(O.setAttribute("class","fa fa fa-eye"),H.setAttribute("type","text")):(O.setAttribute("class","fa fa fa-eye-slash"),H.setAttribute("type","password"))})),document.querySelector("#login").addEventListener("click",(function(){let e=document.querySelector("#username").value,t=document.querySelector("#password").value;""===e&&(P("Username cannot be empty!","username"),1)||""===t&&(P("Password cannot be empty!","password"),1)||(N(),localStorage.setItem("user",e),localStorage.setItem("pass",t),localStorage.setItem("wh-user","main"),$.ajax({async:!0,type:"POST",url:api+"login",headers:{Accept:"application/json","Content-Type":"application/json"},data:JSON.stringify({username:e,password:t}),success:function(e){localStorage.setItem("login-event","login"+Math.random()),localStorage.setItem("main-token",e.data),window.location.href="panel.html"},error:function(e){let t=Object.keys(e),s=document.querySelector(".modal-error>h2");"responseJSON"==t[17]?s.innerHTML=e.responseJSON.errorMessage:s.innerHTML="Please Wait! We are working!",E()}}))})),document.querySelector("#signup").addEventListener("click",(function(){let e=document.querySelector("#org").value,t=document.querySelector("#email").value,s=document.querySelector("#contact").value,o=document.querySelector("#business").value,n=document.querySelector("#deliveries").value,l=document.querySelector("#trade").value,r=document.querySelector("#fb").value,g=document.querySelector("#web").value;(""!==e||(P("Organization Name cannot be empty!","org"),0))&&(""===t||null===t?(P("Email cannot be empty!","email"),0):""!==t||null!==t?/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/.test(t)||(P("Please give a valid email!","email"),0):void 0)&&(""===s?(P("Phone Number cannot be empty!","contact"),0):(s.length<11||s.length>11)&&1==!/\D/.test(s)?(P("Phone Number must be of 11 digits!","contact"),0):11===s.match(/\d/g).length&&1==!/\D/.test(s)||(P("Phone Number not valid!","contact"),0))&&(""!==o||(P("Business Field cannot be empty!","business"),0))&&(parseInt(n)<=0||0==n.charAt(0)?(P("Delivery Range must be greater than 0!","deliveries"),0):!0===isNaN(n)||""===n||0==!/\D/.test(n)?(P("Delivery Range must be a number!","deliveries"),0):1==!/\D/.test(n)||void 0)&&(""!==l||(P("Trade License cannot be empty!","trade"),0))&&(N(),a.style.pointerEvents="none",i.style.display="block",L.style.display="none",v.style.display="none",c.innerHTML="",d.classList.remove("load-complete"),u.style.display="none",d.style.display="inline-block",h.style.marginTop="0rem",y.style.display="inline",y.disabled=!0,m.style.display="none",p.style.display="none",S.innerHTML="",backdrop.classList.add("show"),modal.classList.add("show"),$.ajax({type:"POST",url:api+"initUser/create",data:JSON.stringify({organizationName:e,tradeLicence:l,businessField:o,contactNumber:s,emailId:t,deliveryRange:n,organizationalFaceBookLink:r,organizationWebsite:g}),headers:{Accept:"application/json","Content-Type":"application/json"},success:function(e){setTimeout((function(){d.classList.remove("load-complete"),setTimeout((function(){a.style.pointerEvents="auto",d.classList.add("load-complete"),u.style.display="block",c.innerHTML="Congratulations! You Have Registered!",c.style.color="#0066b3",y.disabled=!1}),1e3)}),3e3)},error:function(e){a.style.pointerEvents="auto",d.style.display="none",y.disabled=!1,c.innerHTML=e.responseJSON.errorMessage+"s",c.style.color="#e22b2b",e.responseJSON.errorMessage.includes("Contact")?P("Contact Number Exists!","contact"):e.responseJSON.errorMessage.includes("Email")?P("Email Exists!","email"):e.responseJSON.errorMessage.includes("Organization")?(P("Organisation Exists!","org"),c.innerHTML="Organisation Exists!"):e.responseJSON.errorMessage.includes("Trade")&&(P("Trade License Exists!","trade"),c.innerHTML="Trade License Exists!")}}))}))})();